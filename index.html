<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Xclusive Lifestyles</title>
  <style>
    body { margin: 0; font-family: 'Poppins', sans-serif; background: #0a0a0a; color: white; }
    header { text-align: center; padding: 20px; background: #111; }
    header img { width: 120px; }
    h1 { color: gold; margin: 10px 0; }
    .products { display: flex; flex-wrap: wrap; justify-content: center; margin: 20px; }
    .product { background: #1a1a1a; border-radius: 12px; box-shadow: 0 0 10px rgba(255,215,0,0.2); margin: 10px; padding: 15px; width: 220px; text-align: center; }
    .product img { width: 100%; border-radius: 12px; }
    button { background: gold; border: none; padding: 10px; margin-top: 8px; border-radius: 8px; cursor: pointer; font-weight: bold; }
    button:hover { background: #d4af37; }
    #cart, #checkout, #trackOrder { display: none; padding: 20px; }
    input, select { width: 100%; padding: 8px; margin: 8px 0; border-radius: 6px; border: none; }
    .van { width: 100px; position: fixed; bottom: 20px; left: -120px; transition: left 3s linear; }
  </style>
</head>
<body>

<header>
  <img src="your-logo.png" alt="Xclusive Lifestyles Logo">
  <h1>Xclusive Lifestyles</h1>
</header>

<section class="products">
  <div class="product">
    <img src="watch.jpg" alt="Luxury Watch">
    <h3>Luxury Watch</h3>
    <p>₹2500</p>
    <button onclick="addToCart('Luxury Watch',2500)">Add to Cart</button>
  </div>
  <div class="product">
    <img src="shoes.jpg" alt="Premium Shoes">
    <h3>Premium Shoes</h3>
    <p>₹1500</p>
    <button onclick="addToCart('Premium Shoes',1500)">Add to Cart</button>
  </div>
</section>

<!-- Cart Section -->
<section id="cart">
  <h2>Your Cart</h2>
  <ul id="cartItems"></ul>
  <p>Subtotal: ₹<span id="subtotal">0</span></p>
  <p>GST (5%): ₹<span id="gst">0</span></p>
  <p>Packaging: ₹<span id="packaging">50</span></p>
  <p>Discount: ₹<span id="discount">0</span></p>
  <h3>Total: ₹<span id="total">0</span></h3>
  <input type="text" id="coupon" placeholder="Enter Coupon">
  <button onclick="applyCoupon()">Apply Coupon</button>
  <button onclick="showCheckout()">Proceed to Checkout</button>
</section>

<!-- Checkout Section -->
<section id="checkout">
  <h2>Checkout</h2>
  <input id="custName" placeholder="Full Name">
  <input id="custEmail" placeholder="Email">
  <input id="custPhone" placeholder="Phone">
  <textarea id="custAddress" placeholder="Address"></textarea>
  <select id="payment">
    <option>Cash on Delivery</option>
    <option>UPI</option>
    <option>Net Banking</option>
  </select>
  <button onclick="placeOrder()">Place Order</button>
</section>

<!-- Track Order -->
<section id="trackOrder">
  <h2>Track Your Order</h2>
  <input id="trackId" placeholder="Enter Order ID">
  <button onclick="trackOrder()">Track</button>
  <p id="orderStatus"></p>
</section>

<img src="van.png" class="van" id="van">

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
let cart = [];
let discount = 0;

// Add to cart
function addToCart(name, price) {
  const item = cart.find(i => i.name === name);
  if(item) { item.qty++; }
  else { cart.push({name, price, qty:1}); }
  localStorage.setItem("cart", JSON.stringify(cart));
  renderCart();
  document.getElementById("cart").style.display="block";
}

// Render cart
function renderCart() {
  let ul = document.getElementById("cartItems");
  ul.innerHTML="";
  let subtotal=0;
  cart.forEach(i => {
    ul.innerHTML+=`<li>${i.name} x${i.qty} = ₹${i.qty*i.price}</li>`;
    subtotal+=i.qty*i.price;
  });
  document.getElementById("subtotal").innerText=subtotal;
  let gst=Math.round(subtotal*0.05);
  document.getElementById("gst").innerText=gst;
  document.getElementById("discount").innerText=discount;
  let total=subtotal+50+gst-discount;
  document.getElementById("total").innerText=total;
}

// Apply Coupon
function applyCoupon(){
  const code=document.getElementById("coupon").value;
  if(code==="EXCLUSIVE15"){ discount=10; }
  else if(code==="LIFESTYLE20"){ discount=15; }
  else{ discount=0; }
  renderCart();
}

// Show checkout
function showCheckout(){
  document.getElementById("cart").style.display="none";
  document.getElementById("checkout").style.display="block";
}

// Place order
function placeOrder(){
  const customer={
    name:document.getElementById("custName").value,
    email:document.getElementById("custEmail").value,
    phone:document.getElementById("custPhone").value,
    address:document.getElementById("custAddress").value
  };
  const orderId="EXL"+Math.floor(100000+Math.random()*900000);
  let subtotal=cart.reduce((s,i)=>s+i.qty*i.price,0);
  let gst=Math.round(subtotal*0.05);
  let total=subtotal+50+gst-discount;
  const order={id:orderId, customer, items:cart, charges:{packaging:50,gst,discount}, total};
  startDeliveryAnimation(()=>{ generateInvoice(order); saveOrder(order); });
}

// Delivery van animation
function startDeliveryAnimation(callback){
  let van=document.getElementById("van");
  van.style.left="100%";
  setTimeout(()=>{ van.style.left="-120px"; if(callback) callback(); },3000);
}

// Save order for tracking
function saveOrder(order){
  let orders=JSON.parse(localStorage.getItem("orders"))||{};
  orders[order.id]={status:"Placed", order};
  localStorage.setItem("orders", JSON.stringify(orders));
  alert("Order placed! Your ID: "+order.id);
  document.getElementById("checkout").style.display="none";
  document.getElementById("trackOrder").style.display="block";
}

// Track order
function trackOrder(){
  let id=document.getElementById("trackId").value;
  let orders=JSON.parse(localStorage.getItem("orders"))||{};
  if(orders[id]){
    document.getElementById("orderStatus").innerText="Status: "+orders[id].status;
  } else {
    document.getElementById("orderStatus").innerText="Order not found.";
  }
}

// Generate Invoice
async function generateInvoice(order){
  const { jsPDF }=window.jspdf;
  const doc=new jsPDF();
  doc.setFontSize(22); doc.setTextColor(218,165,32);
  doc.text("Xclusive Lifestyles",60,25);
  doc.setFontSize(12); doc.setTextColor(0,0,0);
  doc.text(`Order ID: ${order.id}`,15,50);
  doc.text(`Customer: ${order.customer.name}`,15,60);
  doc.text(`Phone: ${order.customer.phone}`,15,70);
  let y=90;
  doc.text("Product",15,y); doc.text("Qty",100,y); doc.text("Price",130,y); doc.text("Total",170,y);
  y+=10;
  order.items.forEach(i=>{ doc.text(i.name,15,y); doc.text(i.qty.toString(),105,y); doc.text("₹"+i.price,135,y); doc.text("₹"+(i.qty*i.price),175,y); y+=10; });
  y+=10;
  doc.text(`Packaging: ₹${order.charges.packaging}`,135,y); y+=10;
  doc.text(`GST: ₹${order.charges.gst}`,135,y); y+=10;
  if(order.charges.discount>0){ doc.text(`Discount: -₹${order.charges.discount}`,135,y); y+=10; }
  doc.setFontSize(14); doc.setTextColor(218,165,32);
  doc.text(`Grand Total: ₹${order.total}`,135,y+10);
  doc.setFontSize(10); doc.setTextColor(100,100,100);
  doc.text("Thank you for shopping with Xclusive Lifestyles!",15,280);
  doc.save(`Invoice-${order.id}.pdf`);
}
</script>
</body>
</html>